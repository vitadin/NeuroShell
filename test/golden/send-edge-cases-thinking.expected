Setting _style = dark1
=== Send Edge Cases with Thinking Blocks Test ===
Testing \send with edge cases and special content
Testing with long message...

  --- OpenAI reasoning trace: ---                                             
                                                                              
  Thinking about the user's message: "This is a very long message that        
  contains multiple sentences and ideas to test how the thinking blocks handle
  longer input text. The message includes various concepts like programming,  
  mathematics, science, and general knowledge questions. It should trigger    
  thinking blocks that can process and reason about longer content while      
  maintaining readability and proper formatting. This tests the system's      
  ability to handle substantial user input without breaking the thinking block
  rendering or conversation flow.". This helps verify the message flow in     
  tests. The user sent 1 messages total, and I need to provide a helpful      
  response.                                                                   
                                                                              
  --- End thinking ---                                                        
                                                                              
  This is a mocking reply (received 1 messages, last: This is a very long     
  message that contains multiple sentences and ideas to test how the thinking 
  blocks handle longer input text. The message includes various concepts like 
  programming, mathematics, science, and general knowledge questions. It      
  should trigger thinking blocks that can process and reason about longer     
  content while maintaining readability and proper formatting. This tests the 
  system's ability to handle substantial user input without breaking the      
  thinking block rendering or conversation flow.)                             

Testing with special characters...

  --- OpenAI reasoning trace: ---                                             
                                                                              
  Thinking about the user's message: "Hello! Can you help me understand these 
  symbols: @#$%^&*()_+-=[]{}|;':\",./<>?~ and √©mojis like caf√©, r√©sum√©,       
  na√Øve?". This helps verify the message flow in tests. The user sent 3       
  messages total, and I need to provide a helpful response.                   
                                                                              
  --- End thinking ---                                                        
                                                                              
  This is a mocking reply (received 3 messages, last: Hello! Can you help me  
  understand these symbols: @#$%^&*()_+-=[]{}|;':\",./<>?~ and √©mojis like    
  caf√©, r√©sum√©, na√Øve?)                                                       

Testing with code content...

  --- OpenAI reasoning trace: ---                                             
                                                                              
  Thinking about the user's message: "Here's a Python function: def           
  hello_world(): print("Hello, World!") return True. Can you explain how this 
  works?". This helps verify the message flow in tests. The user sent 5       
  messages total, and I need to provide a helpful response.                   
                                                                              
  --- End thinking ---                                                        
                                                                              
  This is a mocking reply (received 5 messages, last: Here's a Python         
  function: def hello_world(): print("Hello, World!") return True. Can you    
  explain how this works?)                                                    

Testing with math expressions...

  --- OpenAI reasoning trace: ---                                             
                                                                              
  Thinking about the user's message: "Calculate: (2x + 3y = 15) and (x - y =  
  1)                                                                          
  where x, y ‚àà ‚Ñù. Also, what's ‚à´(x¬≤ + 2x + 1)dx?". This helps verify the      
  message flow in tests. The user sent 7 messages total, and I need to provide
  a helpful response.                                                         
                                                                              
  --- End thinking ---                                                        
                                                                              
  This is a mocking reply (received 7 messages, last: Calculate: (2x + 3y =   
  15) and (x - y = 1) where x, y ‚àà ‚Ñù. Also, what's ‚à´(x¬≤ + 2x + 1)dx?)         

Testing multiline content...

  --- OpenAI reasoning trace: ---\n\n  Thinking about the user's message:     
  "This                                                                       
  message has multiple lines:\nLine 1: Introduction\nLine 2: Main             
  content\nLine 3: Conclusion\nHow do you process this structure?". This helps
  verify the message flow in tests. The user sent 9 messages total, and I need
  to provide a helpful response.\n\n--- End thinking ---\n\nThis is a mocking 
  reply                                                                       
  (received 9 messages, last: This message has multiple lines:\nLine 1:       
  Introduction\nLine 2: Main content\nLine 3: Conclusion\nHow do you process  
  this structure?)                                                            

Testing Unicode and mixed languages...

  --- OpenAI reasoning trace: ---                                             
                                                                              
  Thinking about the user's message: "Hello ‰∏ñÁïå! Bonjour le monde! ¬øH√≥la     
  mundo? –ü—Ä–∏–≤–µ—Ç –º–∏—Ä! Can you respond in multiple languages?". This helps      
  verify the message flow in tests. The user sent 11 messages total, and I    
  need to provide a helpful response.                                         
                                                                              
  --- End thinking ---                                                        
                                                                              
  This is a mocking reply (received 11 messages, last: Hello ‰∏ñÁïå! Bonjour le 
  monde! ¬øH√≥la mundo? –ü—Ä–∏–≤–µ—Ç –º–∏—Ä! Can you respond in multiple languages?)     

Testing with very short message...

  --- OpenAI reasoning trace: ---                                             
                                                                              
  Thinking about the user's message: "Yes.". This helps verify the message    
  flow in tests. The user sent 13 messages total, and I need to provide a     
  helpful response.                                                           
                                                                              
  --- End thinking ---                                                        
                                                                              
  This is a mocking reply (received 13 messages, last: Yes.)                  

Final session summary:
Session: Session 1 (ID: 00000001)
System: You are a helpful assistant.
Created: 2025-01-01 00:00:01
Updated: 2025-01-01 00:00:30
Messages: 14 total

[1] user (00:00:02): This is a very long message that contain...block rendering or conversation flow. (508 chars)
[2] assistant (00:00:05): --- OpenAI reasoning trace: ---\n\n  Thi...lock rendering or conversation flow.) (1285 chars)
[3] user (00:00:07): Hello! Can you help me understand these ...√©mojis like caf√©, r√©sum√©, na√Øve? (121 chars)
[4] assistant (00:00:09): --- OpenAI reasoning trace: ---\n\n  Thi...©mojis like caf√©, r√©sum√©, na√Øve?) (511 chars)
[5] user (00:00:11): Here's a Python function: def hello_worl...True. Can you explain how this works? (112 chars)
... (4 more messages) ...
[10] assistant (00:00:21): --- OpenAI reasoning trace: ---\n\n  Thi...\nHow do you process this structure?) (533 chars)
[11] user (00:00:23): Hello ‰∏ñÁïå! Bonjour le monde! ¬øH√≥la ...an you respond in multiple languages? (106 chars)
[12] assistant (00:00:25): --- OpenAI reasoning trace: ---\n\n  Thi...n you respond in multiple languages?) (483 chars)
[13] user (00:00:27): Yes.
[14] assistant (00:00:29): --- OpenAI reasoning trace: ---\n\n  Thi...ly (received 13 messages, last: Yes.) (279 chars)
Message history check:
1 = --- OpenAI reasoning trace: ---                                                                                                                                 
                                                                                                                                                                    
  Thinking about the user's message: "Yes.". This helps verify the message flow in tests. The user sent 13 messages total, and I need to provide a helpful response.
                                                                                                                                                                    
--- End thinking ---                                                                                                                                                
                                                                                                                                                                    
This is a mocking reply (received 13 messages, last: Yes.)                                                                                                          
Latest response length:  chars
2 = Yes.
Latest user message was: Yes.