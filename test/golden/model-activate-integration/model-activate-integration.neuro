%% Test model activation integration with other commands
\set[_echo_command="true"]

%% Create multiple models
\model-new[catalog_id="CS4"] primary-model
\model-new[catalog_id="O3"] secondary-model

%% Activate primary model
\model-activate primary-model

%% Check status to see active model indication
\model-status

%% Switch to secondary model
\model-activate secondary-model

%% Check status again to verify active model changed
\model-status

%% Verify system variables are updated correctly
\get[#active_model_name]
\get[#active_model_provider]

%% Test that creating a new model doesn't change active model
\model-new[provider="anthropic", base_model="claude-3-sonnet"] new-model

%% Verify secondary-model is still active
\get[#active_model_name]