Setting _echo_command = true
%%> "\\set[test_file=/tmp/nonexistent_test_file]"
Setting test_file = /tmp/nonexistent_test_file
%%> "\\set[test_var=hello]"
Setting test_var = hello
%%> "\\try \\bash echo \"Testing ${test_var}\""
%%> "\\bash echo \"Testing hello\""
Testing hello
%%> "\\get[@status]"
@status = 0
%%> "\\get[_output]"
_output = Testing hello
%%> "\\try \\bash cat ${test_file}"
%%> "\\bash cat /tmp/nonexistent_test_file"
Error: cat: /tmp/nonexistent_test_file: No such file or directory
<non_zero_exit_status>
%%> "\\get[@status]"
@status = 1
%%> "\\get[@error]"
@error = cat: /tmp/nonexistent_test_file: No such file or directory
%%> "\\set[base_value=world]"
Setting base_value = world
%%> "\\try \\set[combined=${test_var}_${base_value}]"
%%> "\\set[combined=hello_world]"
Setting combined = hello_world
%%> "\\get[@status]"
@status = 0
%%> "\\get[combined]"
combined = hello_world
%%> "\\try \\bash echo \"test\" | grep \"test\""
%%> "\\bash echo \"test\" | grep \"test\""
test
%%> "\\get[@status]"
@status = 0
%%> "\\get[_output]"
_output = test
%%> "\\try \\silent \\bash echo \"test\" | grep \"notfound\" | wc -l"
%%> "\\silent \\bash echo \"test\" | grep \"notfound\" | wc -l"
%%> "\\get[@status]"
@status = 0
%%> "\\set[before_try=preserved]"
Setting before_try = preserved
%%> "\\try \\set[_invalid=fail]"
%%> "\\set[_invalid=fail]"
%%> "\\get[before_try]"
before_try = preserved
%%> "\\get[@status]"
@status = 1
%%> "\\try \\set[seq1=first]"
%%> "\\set[seq1=first]"
Setting seq1 = first
%%> "\\try \\set[seq2=second]"
%%> "\\set[seq2=second]"
Setting seq2 = second
%%> "\\try \\bash echo \"sequence test\""
%%> "\\bash echo \"sequence test\""
sequence test
%%> "\\get[seq1]"
seq1 = first
%%> "\\get[seq2]"
seq2 = second
%%> "\\get[@status]"
@status = 0