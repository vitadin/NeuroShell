%% Basic \if command functionality test
\set[_echo_command="true"]

%% Test basic true condition
\if[condition=true] \echo "True condition executed"

%% Test basic false condition  
\if[condition=false] \echo "This should not appear"

%% Test condition with command that sets variable
\if[condition=true] \set[result="success"]
\get[result]

%% Test condition that doesn't execute anything
\if[condition=false] \set[should_not_exist="value"]
\get[should_not_exist]

%% Test string literals that are truthy
\if[condition="yes"] \echo "Yes is truthy"
\if[condition="1"] \echo "1 is truthy" 

%% Test string literals that are falsy
\if[condition="no"] \echo "This should not appear"
\if[condition="0"] \echo "This should not appear"

%% Test empty command (should not execute even with true condition)
\if[condition=true]

%% Test whitespace-only command
\if[condition=true]    

%% Verify the #if_result system variable is set correctly
\if[condition=true] \set[dummy="test"]
\get[#if_result]

\if[condition=false] \set[dummy2="test"]  
\get[#if_result]