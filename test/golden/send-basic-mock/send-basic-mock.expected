Setting _echo_command = true
%%> "\\session-new[system=\"You are a helpful assistant\"] test_send_session"
Created session 'test_send_session' (ID: 00000001)
%%> "\\send Hello, how are you doing today?"
%%> "\\session-activate"
Active session: test_send_session (ID: 00000001)
%%> "\\set[session_id=\"${_session_id}\"]"
Setting session_id = 00000001-0000-4000-8000-000000000001
%%> "\\set[empty_check=\"${session_id}\"]"
Setting empty_check = 00000001-0000-4000-8000-000000000001
%%> "\\set[need_new=\"yes\"]"
Setting need_new = yes
%%> "\\if[condition=\"${empty_check}\"] \\set[need_new=\"\"]"
%%> "\\set[need_new=\"\"]"
Setting need_new = 
%%> "\\if[condition=\"${need_new}\"] \\session-new"
%%> "\\if[condition=\"${need_new}\"] \\set[session_id=\"${#session_id}\"]"
%%> "\\session-add-usermsg[session=${session_id}] ${_1}"
Added user message to session '00000001-0000-4000-8000-000000000001'
%%> "\\llm-client-get[provider=openai]"
LLM client ready: openai:b10394de (configured: true)
%%> "\\set[client_id=\"${_client_id}\"]"
Setting client_id = openai:b10394de
%%> "\\get[#active_model_name]"
#active_model_name = 
%%> "\\set[has_model=\"${#active_model_name}\"]"
Setting has_model = 
%%> "\\set[need_model=\"yes\"]"
Setting need_model = yes
%%> "\\if[condition=\"${has_model}\"] \\set[need_model=\"\"]"
%%> "\\if[condition=\"${need_model}\"] \\model-new[catalog_id=O4M] default_model"
%%> "\\model-new[catalog_id=O4M] default_model"
Created model 'default_model' (ID: 00000003, Provider: openai, Base: o4-mini)
%%> "\\if[condition=\"${need_model}\"] \\model-activate default_model"
%%> "\\model-activate default_model"
Activated model 'default_model' (ID: 00000003, Provider: openai, Base: o4-mini)
%%> "\\llm-call[client_id=${client_id}, session_id=${session_id}]"
This is a mocking reply (received 1 messages, last: Hello, how are you doing today?)
%%> "\\session-add-assistantmsg[session=${session_id}] ${_output}"
Added assistant message to session '00000001-0000-4000-8000-000000000001'
%%> "\\set[1=\"${_output}\"]"
Setting 1 = This is a mocking reply (received 1 messages, last: Hello, how are you doing today?)
%%> "\\render-markdown ${_output}"
  This is a mocking reply (received 1 messages, last: Hello, how are you doing
  today?)                                                                     
%%> "\\get[1]"
1 = This is a mocking reply (received 1 messages, last: Hello, how are you doing today?)
%%> "\\get[_output]"
_output = 
  This is a mocking reply (received 1 messages, last: Hello, how are you doing
  today?)                                                                     
%%> "\\session-show test_send_session"
Session: test_send_session (ID: 00000001)
System: You are a helpful assistant
Created: 2025-01-01 00:00:01
Updated: 2025-01-01 00:00:06
Messages: 2 total
[1] user (00:00:02): Hello, how are you doing today?
[2] assistant (00:00:05): This is a mocking reply (received 1 messages, last: Hello, how are you doing today?)
%%> "\\session-delete test_send_session"
Deleted session 'test_send_session' (ID: 00000001)