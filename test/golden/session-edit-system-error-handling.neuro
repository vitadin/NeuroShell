%% Test session-edit-system error handling
\set[_echo_command="true"]

%% Test error when no active session exists
\try \session-edit-system You are a test assistant
\get[@error]

%% Create a session for testing
\session-new test_session
\session-activate test_session

%% Test error when specified session doesn't exist
\try \session-edit-system[session=nonexistent_session] Test prompt
\get[@error]

%% Test error when session parameter is invalid
\try \session-edit-system[session=""] Test prompt
\get[@error]

%% Test successful edit to verify command works
\session-edit-system Valid system prompt
\get[_output]

%% Clean up
\session-delete test_session