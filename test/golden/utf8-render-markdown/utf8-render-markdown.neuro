%% UTF-8 character rendering test for \render-markdown command
\set[_echo_command="true"]

%% Test UTF-8 in markdown headers
\render-markdown # CafÃ© Menu with ğŸš€

%% Test UTF-8 in basic markdown text
\render-markdown Welcome to **cafÃ© naÃ¯ve** with _rÃ©sumÃ©_ content

%% Test UTF-8 in markdown lists
\render-markdown ## Languages\n- æ—¥æœ¬èª (Japanese)\n- Î•Î»Î»Î·Î½Î¹ÎºÎ¬ (Greek)\n- Ğ ÑƒÑÑĞºĞ¸Ğ¹ (Russian)

%% Test UTF-8 in markdown code blocks
\render-markdown ```javascript\nfunction cafÃ©() {\n  return "ğŸš€ rocket";\n}\n```

%% Test UTF-8 in markdown links
\render-markdown Visit [cafÃ© website](https://cafÃ©.example.com) for more ğŸš€ content

%% Test UTF-8 with symbols and punctuation
\render-markdown **Symbols**: â€” (em-dash), â€“ (en-dash), "" (quotes), â€¦ (ellipsis)

%% Test UTF-8 in blockquotes
\render-markdown > "The cafÃ© serves the best rÃ©sumÃ©" â€” Anonymous ğŸŒŸ

%% Test variable interpolation with UTF-8 in markdown
\set[cafe_name="CafÃ© NaÃ¯ve"]
\set[rocket="ğŸš€"]
\render-markdown ## ${cafe_name}\nWelcome to our ${rocket} cafÃ©!

%% Test raw=false mode with UTF-8 escape sequences
\render-markdown[raw=false] # CafÃ©\nWith newline and **bold** text

%% Test complex UTF-8 mixing in markdown
\render-markdown ### Complex Example\n**Bold cafÃ©** with _italic æ—¥æœ¬èª_ and `code ğŸš€`\n\n- Currency: â‚¬ Â£ Â¥\n- Math: Ï€ â‰  âˆ\n- Quotes: "Hello" â€” world

%% Verify output storage preserves UTF-8
\get[_output]