Setting _echo_command = true
%%> "\\session-list"
No sessions found.
%%> "\\try \\session-delete Session"
%%> "\\session-delete Session"
%%> "\\try \\session-delete session_1"
%%> "\\session-delete session_1"
%%> "\\try \\send Hello from empty state"
%%> "\\send Hello from empty state"
%%> "\\session-activate"
No sessions found. Use \session-new to create a session.
%%> "\\set[session_id=\"${_session_id}\"]"
Setting session_id = 
%%> "\\set[empty_check=\"${session_id}\"]"
Setting empty_check = 
%%> "\\set[need_new=\"yes\"]"
Setting need_new = yes
%%> "\\if[condition=\"${empty_check}\"] \\set[need_new=\"\"]"
%%> "\\if[condition=\"${need_new}\"] \\session-new"
%%> "\\session-new"
Auto-generated session name: 'Session 1'
Created session 'Session 1' (ID: 00000001)
%%> "\\if[condition=\"${need_new}\"] \\set[session_id=\"${#session_id}\"]"
%%> "\\set[session_id=\"00000001-0000-4000-8000-000000000001\"]"
Setting session_id = 00000001-0000-4000-8000-000000000001
%%> "\\session-add-usermsg[session=${session_id}] ${_1}"
Added user message to session '00000001-0000-4000-8000-000000000001'
%%> "\\llm-client-get[provider=openai]"
LLM client ready: openai:b10394de (configured: true)
%%> "\\set[client_id=\"${_client_id}\"]"
Setting client_id = openai:b10394de
%%> "\\get[#active_model_name]"
#active_model_name = 
%%> "\\set[has_model=\"${#active_model_name}\"]"
Setting has_model = 
%%> "\\set[need_model=\"yes\"]"
Setting need_model = yes
%%> "\\if[condition=\"${has_model}\"] \\set[need_model=\"\"]"
%%> "\\if[condition=\"${need_model}\"] \\model-new[catalog_id=O4M] default_model"
%%> "\\model-new[catalog_id=O4M] default_model"
Created model 'default_model' (ID: 00000003, Provider: openai, Base: o4-mini)
%%> "\\if[condition=\"${need_model}\"] \\model-activate default_model"
%%> "\\model-activate default_model"
Activated model 'default_model' (ID: 00000003, Provider: openai, Base: o4-mini)
%%> "\\llm-call[client_id=${client_id}, session_id=${session_id}]"
This is a mocking reply (received 1 messages, last: Hello from empty state)
%%> "\\session-add-assistantmsg[session=${session_id}] ${_output}"
Added assistant message to session '00000001-0000-4000-8000-000000000001'
%%> "\\set[1=\"${_output}\"]"
Setting 1 = This is a mocking reply (received 1 messages, last: Hello from empty state)
%%> "\\render-markdown ${_output}"
  This is a mocking reply (received 1 messages, last: Hello from empty state) 
%%> "\\get[_error]"
_error = 
%%> "\\session-new auto_created_session"
Created session 'auto_created_session' (ID: 00000005)
%%> "\\send Hello from valid session"
%%> "\\session-activate"
Active session: auto_created_session (ID: 00000005)
%%> "\\set[session_id=\"${_session_id}\"]"
Setting session_id = 00000005-0000-4000-8000-000000000005
%%> "\\set[empty_check=\"${session_id}\"]"
Setting empty_check = 00000005-0000-4000-8000-000000000005
%%> "\\set[need_new=\"yes\"]"
Setting need_new = yes
%%> "\\if[condition=\"${empty_check}\"] \\set[need_new=\"\"]"
%%> "\\set[need_new=\"\"]"
Setting need_new = 
%%> "\\if[condition=\"${need_new}\"] \\session-new"
%%> "\\if[condition=\"${need_new}\"] \\set[session_id=\"${#session_id}\"]"
%%> "\\session-add-usermsg[session=${session_id}] ${_1}"
Added user message to session '00000005-0000-4000-8000-000000000005'
%%> "\\llm-client-get[provider=openai]"
LLM client ready: openai:b10394de (configured: true)
%%> "\\set[client_id=\"${_client_id}\"]"
Setting client_id = openai:b10394de
%%> "\\get[#active_model_name]"
#active_model_name = default_model
%%> "\\set[has_model=\"${#active_model_name}\"]"
Setting has_model = default_model
%%> "\\set[need_model=\"yes\"]"
Setting need_model = yes
%%> "\\if[condition=\"${has_model}\"] \\set[need_model=\"\"]"
%%> "\\set[need_model=\"\"]"
Setting need_model = 
%%> "\\if[condition=\"${need_model}\"] \\model-new[catalog_id=O4M] default_model"
%%> "\\if[condition=\"${need_model}\"] \\model-activate default_model"
%%> "\\llm-call[client_id=${client_id}, session_id=${session_id}]"
This is a mocking reply (received 1 messages, last: Hello from valid session)
%%> "\\session-add-assistantmsg[session=${session_id}] ${_output}"
Added assistant message to session '00000005-0000-4000-8000-000000000005'
%%> "\\set[1=\"${_output}\"]"
Setting 1 = This is a mocking reply (received 1 messages, last: Hello from valid session)
%%> "\\render-markdown ${_output}"
  This is a mocking reply (received 1 messages, last: Hello from valid        
  session)                                                                    
%%> "\\get[1]"
1 = This is a mocking reply (received 1 messages, last: Hello from valid session)
%%> "\\session-new inactive_session"
Created session 'inactive_session' (ID: 00000008)
%%> "\\try \\send Hello with session selection"
%%> "\\send Hello with session selection"
%%> "\\session-activate"
Active session: inactive_session (ID: 00000008)
%%> "\\set[session_id=\"${_session_id}\"]"
Setting session_id = 00000008-0000-4000-8000-000000000008
%%> "\\set[empty_check=\"${session_id}\"]"
Setting empty_check = 00000008-0000-4000-8000-000000000008
%%> "\\set[need_new=\"yes\"]"
Setting need_new = yes
%%> "\\if[condition=\"${empty_check}\"] \\set[need_new=\"\"]"
%%> "\\set[need_new=\"\"]"
Setting need_new = 
%%> "\\if[condition=\"${need_new}\"] \\session-new"
%%> "\\if[condition=\"${need_new}\"] \\set[session_id=\"${#session_id}\"]"
%%> "\\session-add-usermsg[session=${session_id}] ${_1}"
Added user message to session '00000008-0000-4000-8000-000000000008'
%%> "\\llm-client-get[provider=openai]"
LLM client ready: openai:b10394de (configured: true)
%%> "\\set[client_id=\"${_client_id}\"]"
Setting client_id = openai:b10394de
%%> "\\get[#active_model_name]"
#active_model_name = default_model
%%> "\\set[has_model=\"${#active_model_name}\"]"
Setting has_model = default_model
%%> "\\set[need_model=\"yes\"]"
Setting need_model = yes
%%> "\\if[condition=\"${has_model}\"] \\set[need_model=\"\"]"
%%> "\\set[need_model=\"\"]"
Setting need_model = 
%%> "\\if[condition=\"${need_model}\"] \\model-new[catalog_id=O4M] default_model"
%%> "\\if[condition=\"${need_model}\"] \\model-activate default_model"
%%> "\\llm-call[client_id=${client_id}, session_id=${session_id}]"
This is a mocking reply (received 1 messages, last: Hello with session selection)
%%> "\\session-add-assistantmsg[session=${session_id}] ${_output}"
Added assistant message to session '00000008-0000-4000-8000-000000000008'
%%> "\\set[1=\"${_output}\"]"
Setting 1 = This is a mocking reply (received 1 messages, last: Hello with session selection)
%%> "\\render-markdown ${_output}"
  This is a mocking reply (received 1 messages, last: Hello with session      
  selection)                                                                  
%%> "\\get[1]"
1 = This is a mocking reply (received 1 messages, last: Hello with session selection)
%%> "\\session-delete auto_created_session"
Deleted session 'auto_created_session' (ID: 00000005)
%%> "\\session-delete inactive_session"
Deleted session 'inactive_session' (ID: 00000008)