%% UTF-8 character rendering test for \render-markdown command
\set[_echo_command="true"]

%% Test UTF-8 in markdown headers
\render-markdown # Café Menu with 🚀

%% Test UTF-8 in basic markdown text
\render-markdown Welcome to **café naïve** with _résumé_ content

%% Test UTF-8 in markdown lists
\render-markdown ## Languages\n- 日本語 (Japanese)\n- Ελληνικά (Greek)\n- Русский (Russian)

%% Test UTF-8 in markdown code blocks
\render-markdown ```javascript\nfunction café() {\n  return "🚀 rocket";\n}\n```

%% Test UTF-8 in markdown links
\render-markdown Visit [café website](https://café.example.com) for more 🚀 content

%% Test UTF-8 with symbols and punctuation
\render-markdown **Symbols**: — (em-dash), – (en-dash), "" (quotes), … (ellipsis)

%% Test UTF-8 in blockquotes
\render-markdown > "The café serves the best résumé" — Anonymous 🌟

%% Test variable interpolation with UTF-8 in markdown
\set[cafe_name="Café Naïve"]
\set[rocket="🚀"]
\render-markdown ## ${cafe_name}\nWelcome to our ${rocket} café!

%% Test raw=false mode with UTF-8 escape sequences
\render-markdown[raw=false] # Café\nWith newline and **bold** text

%% Test complex UTF-8 mixing in markdown
\render-markdown ### Complex Example\n**Bold café** with _italic 日本語_ and `code 🚀`\n\n- Currency: € £ ¥\n- Math: π ≠ ∞\n- Quotes: "Hello" — world

%% Verify output storage preserves UTF-8
\get[_output]