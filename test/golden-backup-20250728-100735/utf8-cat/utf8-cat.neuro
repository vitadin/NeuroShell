%% UTF-8 character rendering test for \cat command
\set[_echo_command="true"]

%% Test reading UTF-8 content from file using message syntax
\cat test/fixtures/utf8-content.txt

%% Verify UTF-8 content is stored correctly in _output variable
\get[_output]

%% Test reading UTF-8 content using bracket syntax
\cat[path=test/fixtures/utf8-content.txt]

%% Verify UTF-8 content preservation with bracket syntax
\get[_output]

%% Test reading existing special-chars file (has some UTF-8)
\cat test/fixtures/special-chars.txt

%% Verify special characters including UTF-8 emojis
\get[_output]

%% Test variable interpolation in path with UTF-8 context
\set[fixture_dir="test/fixtures"]
\set[utf8_file="utf8-content.txt"]
\cat ${fixture_dir}/${utf8_file}

%% Verify interpolated path works with UTF-8 content
\get[_output]

%% Test cat with UTF-8 content and then echo the content
\cat test/fixtures/utf8-content.txt
\echo Content from file: ${_output}

%% Test storing UTF-8 file content in custom variable
\cat[path=test/fixtures/utf8-content.txt, to=utf8_content_var]
\get[utf8_content_var]

%% Test that UTF-8 content from file can be used in other commands
\cat test/fixtures/utf8-content.txt
\echo Processing: ${_output}
\get[_output]