# NeuroShell Change Log Data
# This file contains structured change log entries for the NeuroShell development history
# Each entry represents a significant change, bug fix, or feature addition

entries:
  - id: "CL6"
    version: "0.2.6"
    date: "2025-09-14"
    type: "refactor"
    title: "Context Layer Refactoring, Enhanced Autocompletion, and Shell Prompt System"
    description: "Implemented massive architectural refactoring with complete context layer restructuring into focused subcontexts for improved separation of concerns and maintainability. Extracted variable, session, model, stack, command registry, error state, LLM client, and configuration management into dedicated subcontexts with proper delegation patterns. Enhanced autocompletion system with improved functionality, description display fixes, and localized readline library integration. Added comprehensive shell prompt system with color themes, multi-line support, and customizable prompt configuration. Implemented robust test mode isolation ensuring clean testing environments without configuration pollution. Fixed critical issues including path handling, shell prompt rendering, and configuration management bugs."
    impact: "Developers benefit from significantly improved code maintainability with clean separation of concerns and focused interfaces following the three-layer architecture. The context layer refactoring enables easier testing, debugging, and future feature development. Users experience enhanced autocompletion with better suggestions and descriptions, customizable shell prompts with color themes and multi-line support, and more reliable configuration management. The robust test mode isolation ensures consistent behavior across development and production environments. These architectural improvements lay the foundation for scalable future development while maintaining backward compatibility."
    files_changed: [
      "internal/context/variable_subcontext.go",
      "internal/context/session_subcontext.go",
      "internal/context/model_subcontext.go",
      "internal/context/stack_subcontext.go",
      "internal/context/command_registry_subcontext.go",
      "internal/context/error_state_subcontext.go",
      "internal/context/llm_client_subcontext.go",
      "internal/context/configuration_subcontext.go",
      "internal/context/context.go",
      "internal/context/context_test.go",
      "internal/services/autocomplete_service.go",
      "internal/services/configuration_service.go",
      "internal/services/configuration_service_test.go",
      "internal/commands/builtin/shell_prompt.go",
      "internal/commands/builtin/shell_prompt_test.go",
      "internal/commands/builtin/config_path_test.go",
      "internal/services/shell_prompt_service.go",
      "internal/services/shell_prompt_service_test.go",
      "internal/services/prompt_color_service.go",
      "scripts/version.sh",
      "internal/version/version.go",
      "test/golden/llm-api-error-handling.c.expected",
      "test/golden/session-save-*.expected",
      "justfile"
    ]
  - id: "CL5"
    version: "0.2.5"
    date: "2025-08-20"
    type: "feature"
    title: "Session Auto-Save System, Message Management, Error State Framework, and Homebrew Distribution"
    description: "Implemented comprehensive session auto-save system with automatic session persistence triggered by user interactions. Added advanced message management with dual-indexing message deletion supporting both reverse order (1=last) and normal order (.1=first) operations. Introduced centralized error state management framework with @status/@error system variables for robust command execution tracking. Enhanced editor integration with @editor variable support and user-configurable editor commands. Added system initialization framework with automatic API key loading at startup. Implemented Homebrew tap distribution with official formula for macOS package management. Fixed critical CI/CD cross-platform compatibility issues ensuring reliable test execution across macOS and Linux environments."
    impact: "Users now benefit from automatic session backup preventing data loss, advanced message manipulation capabilities with intuitive indexing, comprehensive error tracking with system variables, seamless editor integration with environment variable support, and zero-configuration API key loading at startup. The Homebrew distribution makes installation on macOS trivial with 'brew install vitadin/neuroshell/neuroshell'. Enhanced CI/CD reliability ensures consistent behavior across all platforms. These improvements significantly enhance user experience, data safety, and development workflow reliability."
    files_changed: [
      "internal/commands/session/save.go",
      "internal/commands/session/save_test.go", 
      "internal/commands/session/delete_msg.go",
      "internal/commands/session/delete_msg_test.go",
      "internal/commands/session/add_usermsg.go",
      "internal/commands/session/add_assistantmsg.go",
      "internal/commands/builtin/editor_cmd.go",
      "internal/commands/builtin/editor_cmd_test.go",
      "internal/commands/builtin/bash.go",
      "internal/commands/builtin/try_command.go",
      "internal/services/chat_session_service.go",
      "internal/services/error_management_service.go",
      "internal/services/error_management_service_test.go",
      "internal/services/configuration_service.go",
      "internal/services/configuration_service_test.go",
      "internal/context/context.go",
      "internal/context/context_test.go",
      "internal/stringprocessing/message_index.go",
      "internal/stringprocessing/message_index_test.go", 
      "internal/statemachine/stack_machine.go",
      "internal/statemachine/try_handler.go",
      "internal/data/embedded/stdlib/system-init.neuro",
      "cmd/neuro/main.go",
      "cmd/neuro/system_init_test.go",
      "Formula/neuroshell.rb",
      "homebrew-README.md",
      "HOMEBREW_INSTRUCTIONS.md",
      "BREW_SETUP.md",
      "test/golden/session-autosave-*",
      "test/golden/session-save-*",
      "test/golden/session-delete-msg-*",
      "test/golden/editor-variable-*",
      "test/golden/system-error-*",
      "test/fixtures/mock-editor.sh"
    ]
  - id: "CL4"
    version: "0.2.4"
    date: "2025-08-17"
    type: "feature"
    title: "Output System Overhaul, Advanced Debugging Tools, and Enhanced Testing Infrastructure"
    description: "Implemented comprehensive output system refactoring with new theming, styling, and rendering capabilities across all commands. Added show-stack command for execution stack debugging with detailed mode support. Enhanced error handling in send command with comprehensive error scenarios and thinking block integration. Introduced config-path command for configuration management. Significantly expanded testing infrastructure with 87% coverage in shell package and extensive end-to-end test scenarios. Streamlined model catalog by removing unused OpenRouter and Moonshot provider models."
    impact: "Users now benefit from consistent, themed output across all commands with improved readability and styling. The new show-stack command provides powerful debugging capabilities for script execution and error tracking. Enhanced send command provides better error visibility and thinking block integration for reasoning models. Configuration management is simplified with the new config-path command. The expanded testing framework ensures higher reliability and better error handling. The cleanup of unused models reduces complexity while maintaining core functionality."
    files_changed: [
      "internal/output/*",
      "internal/commands/builtin/show_stack.go",
      "internal/commands/builtin/config_path.go", 
      "internal/commands/builtin/send.go",
      "internal/commands/printing/printer.go",
      "internal/services/theme_service.go",
      "internal/services/thinking_renderer_service.go",
      "internal/services/anthropic_client.go",
      "internal/services/gemini_client.go", 
      "internal/services/autocomplete_service.go",
      "internal/shell/handler_test.go",
      "internal/statemachine/stack_machine.go",
      "internal/statemachine/try_handler.go",
      "internal/data/embedded/stdlib/_send.neuro",
      "test/golden/show-stack-*",
      "test/golden/send-error-*",
      "test/golden/try-silent-*",
      "examples/experiments/openai/G5R_full_param.neuro"
    ]
  - id: "CL3"
    version: "0.2.3"
    date: "2025-08-12"
    type: "feature"
    title: "Automated Release Pipeline, Enhanced User Experience, and Advanced Debugging Tools"
    description: "Implemented comprehensive GitHub Actions release pipeline with GoReleaser v2 integration for automated cross-platform releases. Added major user experience improvements including .neurorc auto-startup system, clipboard integration, file writing capabilities, and script execution commands. Enhanced debugging infrastructure with network transport logging, thinking block rendering for reasoning models, and comprehensive testing framework expansion. Introduced new model support including Claude Opus 4.1, GPT-5 Chat, and improved Gemini integration with structured completions."
    impact: "Users now benefit from automated release distribution across all platforms, seamless startup configuration with .neurorc files, native clipboard operations, enhanced script automation with \\run and \\write commands, and improved debugging visibility for LLM interactions. The release process is fully automated with proper versioning and changelog integration. Development experience is significantly enhanced with expanded testing coverage and debugging tools."
    files_changed: [
      ".github/workflows/release.yml",
      ".goreleaser.yaml", 
      "docs/RELEASE_PROCESS.md",
      "docs/CHANGELOG_TEMPLATE.md",
      "scripts/extract-changelog.sh",
      "internal/commands/builtin/clip.go",
      "internal/commands/builtin/write.go",
      "internal/commands/builtin/run.go",
      "internal/commands/builtin/echo_json.go",
      "internal/commands/builtin/license.go",
      "internal/services/debug_transport_service.go",
      "internal/services/thinking_renderer_service.go",
      "internal/services/anthropic_client.go",
      "internal/services/gemini_client.go",
      "internal/services/chat_session_service.go",
      "internal/data/embedded/models/claude-opus-4-1.yaml",
      "internal/data/embedded/models/gpt-5-chat.yaml",
      "cmd/neurotest/internal/*",
      "test/golden/*",
      "examples/neurorc/*",
      "justfile"
    ]
  - id: "CL2"
    version: "0.2.2"
    date: "2025-07-31"
    type: "feature"
    title: "Session Import/Export, Model Parameter Validation, and Enhanced OpenAI Integration"
    description: "Added comprehensive session import/export system supporting JSON format with full data preservation. Implemented model parameter validation service with detailed parameter cards for all models. Enhanced OpenAI integration with O4 Mini chat/reasoning modes, streaming support, and improved client management. Upgraded neurotest framework with enhanced testing capabilities and new experiment scripts. Improved help command organization by removing quick examples and adding better categorization."
    impact: "Users can now backup/restore entire chat sessions, view detailed model parameters before creation, utilize OpenAI O4 Mini with both chat and reasoning modes, and benefit from more robust testing infrastructure. The help system is cleaner and more organized. Model management includes comprehensive parameter validation and provider catalog ID display."
    files_changed: [
      "internal/commands/session/json_export.go",
      "internal/commands/session/json_import.go", 
      "internal/commands/session/export.go",
      "internal/commands/session/import.go",
      "internal/services/chat_session_service.go",
      "internal/services/parameter_validator_service.go",
      "internal/commands/model/openai_model_new.go",
      "internal/commands/llm/client_activate.go",
      "internal/commands/llm/api_load.go",
      "internal/commands/builtin/help.go",
      "internal/data/embedded/models/o4-mini-*.yaml",
      "cmd/neurotest/*",
      "examples/experiments/openai/*",
      "test/golden/session-*export*",
      "test/golden/session-*import*"
    ]
  - id: "CL1"
    version: "0.2.0+550"
    date: "2025-07-30"
    type: "feature"
    title: "Major Architecture Overhaul and Gemini Integration"
    description: "Comprehensive architectural restructuring with full Google Gemini integration, enhanced provider system, version management, and extensive testing infrastructure. Transformed NeuroShell from basic shell to comprehensive LLM interaction platform with support for OpenAI, Anthropic, and Google Gemini providers."
    impact: "Users now have access to Google Gemini models with thinking mode, streaming capabilities, provider-specific commands, semantic versioning, and robust model management. The system is more maintainable with better command organization and extensive test coverage."
    files_changed: [
      "internal/commands/llm/*", 
      "internal/commands/model/*", 
      "internal/commands/builtin/version.go",
      "internal/services/*_client.go", 
      "internal/data/embedded/models/gemini-*.yaml",
      "internal/data/embedded/models/o3*.yaml",
      "internal/version/version.go",
      "internal/context/context.go",
      "test/golden/*.neuro"
    ]
