%% Gemini Basic Chat Experiment - Step by Step
%% Purpose: Test basic Gemini model creation and simple chat interaction
%% Note: Run this step by step, uncommenting lines as we verify each step works

\set _style dark1

\echo "=== Gemini Basic Chat Experiment - Step 1 ==="
\echo "Step 1: Activating Gemini API key from environment..."

%% Verify API key is activated
\llm-api-show[provider=gemini]

%% First, activate the Gemini API key from local environment
\llm-api-activate[provider=gemini, key=local.GEMINI_API_KEY]

%% Verify API key is activated
\llm-api-show[provider=gemini]


%% STEP 2
\echo "Step 2: Creating a basic Gemini Flash model..."
\gemini-model-new[catalog_id="GM25F", temperature="0.7"] basic-chat-model

%% STEP 3
\echo "Step 3: Check that the model was created successfully"
\model-status

%% STEP 4
\echo "Step 4: Activate the model for use"
\model-activate basic-chat-model

%% STEP 5
\echo "Step 5: Verify the model is active"
\echo "Active model: ${#active_model_name}"
\echo "Provider: ${#active_model_provider}"

%% STEP 6 - Uncomment after Step 5 works:
\echo "Step 6: Send a simple greeting..."
\send Hello! Can you introduce yourself briefly?

%% STEP 7
\echo "Step 7: Check the response"
\session-list
\session-show Session 1

%% STEP 8
\echo "Step 8: Cleanup - deleting the test model..."
\model-delete basic-chat-model
\model-status
